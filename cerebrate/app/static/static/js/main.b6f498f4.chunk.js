(this["webpackJsonpcerebrate-gui"]=this["webpackJsonpcerebrate-gui"]||[]).push([[0],{280:function(e,a,t){e.exports=t(426)},285:function(e,a,t){},287:function(e,a,t){},318:function(e,a){},320:function(e,a){},331:function(e,a){},333:function(e,a){},360:function(e,a){},362:function(e,a){},363:function(e,a){},369:function(e,a){},371:function(e,a){},389:function(e,a){},391:function(e,a){},403:function(e,a){},406:function(e,a){},411:function(e,a,t){},412:function(e,a,t){},413:function(e,a,t){},414:function(e,a,t){},415:function(e,a,t){},416:function(e,a,t){},425:function(e,a,t){},426:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),s=t.n(l),o=(t(285),t(15)),c=t.n(o),i=t(23),p=t(28),u=t(29),d=t(31),m=t(30),y=(t(287),t(35)),f=t(431),g=t(43),b=t(37),T=t(433),h=t(114),v=["player","opponent","game"],R=[g.a.SUCCESS,g.a.DANGER,g.a.PRIMARY],E=function(e){var a,t=Object(h.a)(v);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(0===e.indexOf(n))return n}}catch(r){t.e(r)}finally{t.f()}return null},S=function(e){var a,t=Object(h.a)(v);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(0===e.indexOf(n))return e.slice(n.length+":".length)}}catch(r){t.e(r)}finally{t.f()}},O=function(e){for(var a=0;a<v.length&&R.length;a++)if(0===e.indexOf(v[a]))return R[a];return null};var N=function(e){var a=e.fill,t=e.disabled,n=e.tagIntent,l=e.suggestTags,s=e.selectedTags,o=e.onTagsSelected,c=e.tagPrefix,i=Object(y.a)(e,["fill","disabled","tagIntent","suggestTags","selectedTags","onTagsSelected","tagPrefix"]);return r.a.createElement(T.a,Object.assign({createNewItemRenderer:function(e,a,t){return r.a.createElement(f.k,{active:a,onClick:t,text:e,key:e})},itemRenderer:function(e,a){var t=a.modifiers,n=a.handleClick;return t.matchesPredicate?r.a.createElement(f.k,{active:t.active,onClick:n,text:S(e),key:e}):null},itemPredicate:function(e,a,t,n){return 0===a.indexOf(c)&&!s.includes(a)&&a.includes(e.toLocaleLowerCase("en-GB"))},initialContent:null,items:l,selectedItems:s.filter((function(e){return 0===e.indexOf(c)})),createNewItemFromQuery:function(e){return c+e},onItemSelect:function(e){s.includes(e)||(s.push(e),o(s))},resetOnSelect:!0,tagRenderer:function(e){return S(e)},tagInputProps:{disabled:t,onRemove:function(e,a,t){s.splice(s.indexOf(c+e),1),o(s)},tagProps:{intent:n}},openOnKeyDown:!0,fill:a,placeholder:"Tags..."},i))},I=t(117),D=t.n(I),x=(t(409),{sleep:function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,a)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}),w=["player:terran","player:protoss","player:zerg","player:macro","player:all_in","player:2_base_all_in","player:mech","player:bio","player:stargate","player:twilight","player:dt","player:mass_pheonix","player:mass_void_ray","player:air_toss","player:cannon_rush","player:proxy_barracks","player:proxy_hatch","player:win","player:loss","opponent:terran","opponent:protoss","opponent:zerg","opponent:macro","opponent:all_in","opponent:2_base_all_in","opponent:mech","opponent:bio","opponent:stargate","opponent:twilight","opponent:dt","opponent:mass_pheonix","opponent:mass_void_ray","opponent:air_toss","opponent:cannon_rush","opponent:proxy_barracks","opponent:proxy_hatch","opponent:win","opponent:loss","game:zvp","game:zvt","game:zvz","game:tvz","game:tvp","game:tvt","game:pvt","game:pvz","game:pvp","game:short","game:long","game:basetrade"],j=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return console.log(a)},A=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,n,r,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length,t=new Array(a),n=0;n<a;n++)t[n]=l[n];if(j(t),!(t.length<1)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,x.sleep(200);case 6:r=t[0].replayId,P.onReplayLoadedListeners.forEach((function(e){return e.onReplayLoaded({replayId:r,replayTimestamp:1575909015,teams:["BobTheZealot","Jim Raynor"],playerTeam:null,opponentTeam:null,replayFileName:null,selectedTags:["game:fake_tag"],notes:"Some fake notes",force:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,n,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=r.length,t=new Array(a),n=0;n<a;n++)t[n]=r[n];return j(t),e.next=4,x.sleep(200);case 4:P.onReplayLoadedListeners.forEach((function(e){return e.onReplayLoaded({replayId:"SOME HASH VALUE",replayTimestamp:Math.floor(Date.now()/1e3),teams:["Tassadar","Artanis"],playerTeam:null,opponentTeam:null,replayFileName:null,selectedTags:["game:fake_tag_2"],notes:"This is the most recently played replay",force:!0})}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,n,r,l,s,o,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=i.length,t=new Array(a),n=0;n<a;n++)t[n]=i[n];if(j(t),!(t.length<1)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,x.sleep(200);case 6:r=t[0],l=r.replayId,s=r.playerTeam,o=r.opponentTeam,P.onReplayLoadedListeners.forEach((function(e){return e.onReplayLoaded({replayId:l,replayTimestamp:1575909015,teams:["BobTheZealot","JimRaynor"],playerTeam:s,opponentTeam:o,replayFileName:null,selectedTags:["game:fake_tag"],notes:"Some fake notes",force:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,n,r,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length,t=new Array(a),n=0;n<a;n++)t[n]=l[n];if(j(t),!(t.length<1)){e.next=4;break}return e.abrupt("return");case 4:return r=t[0].replayId,e.next=7,x.sleep(500);case 7:P.onReplayUpdatedListeners.forEach((function(e){return e.onReplayUpdated({success:!0,replayId:r})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,n,r,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length,t=new Array(a),n=0;n<a;n++)t[n]=l[n];if(j(t),!(t.length<1)){e.next=4;break}return e.abrupt("return");case 4:return(r=t[0].includeTags)||(r=[]),e.abrupt("return",{replays:[{replayId:"f91abca15806c6038f9b4af454af40d6dd32",replayTimestamp:1602931843,teams:["BobTheZealot","JimRaynor"],notes:"A truly great game between the two titans of StarCraft"},{replayId:"540a1430ffe4d73f7c2c9d87cd2e4907b419",replayTimestamp:1585730727,teams:["Tassadar","JimRaynor"],notes:"An unfortunate disagreement between friends led to this bar fight"},{replayId:"ab6ee43405077302a6a9fc3f1ceaf6aae6fc",replayTimestamp:1322166082,teams:["BobTheZealot","Tassadar"],notes:"An awful match"},{replayId:"48df54843f16afea0b8b92aa167de0e31912",replayTimestamp:1471426714,teams:["Tassadar","BobTheZealot"],notes:"Very BM"},{replayId:"391b6c73cae67daaa1306c5ef5cad275bd29",replayTimestamp:1398404675,teams:["Tassadar","Artanis"],notes:"The quick brown fox jumps over the lazy dog. Abcdefghijklm nopqrs t uvwxy z"},{replayId:"03afb9220f1eee91ed3cdcf862446bfb1002",replayTimestamp:1435622178,teams:["Artanis","BobTheZealot"],notes:""}],tagFrequencyTable:w.filter((function(e){return!r.includes(e)})).map((function(e){return{tag:e,frequency:1}}))});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P={selectReplay:function(){return(self&&self.selectReplay||A).apply(void 0,arguments)},selectMostRecentReplay:function(){return(self&&self.selectMostRecentReplay||k).apply(void 0,arguments)},selectPlayerOpponent:function(){return(self&&self.selectPlayerOpponent||C).apply(void 0,arguments)},updateReplayInfo:function(){return(self&&self.updateReplayInfo||L).apply(void 0,arguments)},findReplays:function(){return(self&&self.findReplays||F).apply(void 0,arguments)},onReplayLoadedListeners:[],onReplayUpdatedListeners:[]};window.replayLoaded=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.onReplayLoadedListeners.forEach((function(e){return e.onReplayLoaded(a)}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),window.replayUpdated=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.sleep(500);case 2:P.onReplayUpdatedListeners.forEach((function(e){return e.onReplayUpdated(a)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();t(411);var _=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).state={valid:!0,disabled:!1},n}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.replayFileName,n=a.setReplayId,l=a.setReplayFileName,s=a.setReplayData,o=a.resetAndDisableForm,c=Object(y.a)(a,["replayFileName","setReplayId","setReplayFileName","setReplayData","resetAndDisableForm"]);return r.a.createElement("div",{className:"ReplaySelector-container"},r.a.createElement(f.d,Object.assign({disabled:this.state.disabled,text:t||"Choose replay file...",onInputChange:function(a){var t=a.target.value;if(t&&a.target.files){var r=a.target.files[0];e.setState({disabled:!0}),l(function(e){return e.split("\\").pop().split("/").pop()}(t)),o();var c=new FileReader;c.addEventListener("load",(function(a){var t=a.target.result,l=D.a.SHA256(D.a.lib.WordArray.create(t)).toString();n(l);var o=new FileReader;o.addEventListener("load",(function(a){var t=a.target.result;s(t),e.setState({disabled:!1}),P.selectReplay({replayId:l,replayData:t})})),o.readAsDataURL(r)})),c.readAsArrayBuffer(r)}},inputProps:{accept:".sc2replay"}},c)),r.a.createElement(f.a,{className:"ReplaySelector-button",text:"Most recent replay",onClick:function(e){o(),P.selectMostRecentReplay()}}))}}]),t}(r.a.Component),G=(t(412),function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"onPlayerSelected",value:function(e){var a=this.props,t=a.replayId,n=a.teams,r=a.setPlayerTeam,l=a.setOpponentTeam,s=a.disableForm,o=parseInt(e.currentTarget.value);if(o<0)r(null);else{r(o);var c=o,i=null;if(2===n.length){var p=0===o?1:0;l(p),i=p}s(),P.selectPlayerOpponent({replayId:t,playerTeam:c,opponentTeam:i})}}},{key:"onOpponentSelected",value:function(e){var a=this.props,t=a.replayId,n=a.teams,r=a.setPlayerTeam,l=a.setOpponentTeam,s=a.disableForm,o=parseInt(e.currentTarget.value);if(o<0)l(null);else{l(o);var c=o,i=null;if(2===n.length){var p=0===o?1:0;r(p),i=p}s(),P.selectPlayerOpponent({replayId:t,playerTeam:i,opponentTeam:c})}}},{key:"render",value:function(){var e=this,a=this.props,t=a.formDisabled,n=a.teams,l=a.playerTeam,s=a.opponentTeam;return r.a.createElement("div",{className:"SelectPlayerAndOpponentInput-container"},r.a.createElement(f.e,{className:"SelectPlayerAndOpponentInput-form-group SelectPlayerAndOpponentInput-form-group-player",label:"Player"},r.a.createElement(f.g,{disabled:t,fill:!0,iconProps:{intent:g.a.SUCCESS},options:[{label:"Choose player...",value:"-1"}].concat(n.map((function(e,a){return{label:e,value:a.toString()}}))),value:null!==l?l.toString():"-1",onChange:function(a){return e.onPlayerSelected(a)}})),r.a.createElement(f.e,{className:"SelectPlayerAndOpponentInput-form-group",label:"Opponent"},r.a.createElement(f.g,{disabled:t,fill:!0,iconProps:{intent:g.a.DANGER},options:[{label:"Choose opponent...",value:"-1"}].concat(n.map((function(e,a){return{label:e,value:a.toString()}}))),value:null!==s?s.toString():"-1",onChange:function(a){return e.onOpponentSelected(a)}})))}}]),t}(r.a.Component)),U=function(e){var a=new Date(1e3*e);return a.toLocaleDateString()+" "+a.toLocaleTimeString()},M=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.replayTimestamp;return r.a.createElement(f.e,{label:"Replay date"},r.a.createElement(f.i,{disabled:!0,fill:!0,value:e&&U(e)}))}}]),t}(r.a.Component);function B(e){var a=e.notes,t=e.replaySelectedTags,n=e.submittingReplay,l=e.setNotes,s=e.updateReplayInfo,o=e.setReplaySelectedTags,c=Object(y.a)(e,["notes","replaySelectedTags","submittingReplay","setNotes","updateReplayInfo","setReplaySelectedTags"]),i=c.replayId,p=c.formDisabled,u=c.playerTeam,d=c.opponentTeam,m=c.failedToTagReplay,T=c.failedToLoadReplay;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(f.e,{label:"Replay ID"},r.a.createElement(f.i,{disabled:!0,fill:!0,value:i})),r.a.createElement(f.e,{label:"Replay file",intent:T?g.a.DANGER:null,helperText:T?"Failed to load replay, please select another or try again.":null},r.a.createElement(_,Object.assign({fill:!0},c))),r.a.createElement(M,c),r.a.createElement(G,c),r.a.createElement(f.e,{label:"Player tags"},r.a.createElement(N,Object.assign({},c,{fill:!0,selectedTags:t,onTagsSelected:o,disabled:p||null===u,tagPrefix:"player:",tagIntent:g.a.SUCCESS}))),r.a.createElement(f.e,{label:"Opponent tags"},r.a.createElement(N,Object.assign({},c,{fill:!0,selectedTags:t,onTagsSelected:o,disabled:p||null===d,tagPrefix:"opponent:",tagIntent:g.a.DANGER}))),r.a.createElement(f.e,{label:"Game tags"},r.a.createElement(N,Object.assign({},c,{fill:!0,selectedTags:t,onTagsSelected:o,disabled:p,tagPrefix:"game:",tagIntent:g.a.PRIMARY}))),r.a.createElement(f.e,{label:"Notes"},r.a.createElement(f.s,{fill:!0,disabled:p,value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(f.e,{intent:m?g.a.DANGER:null,helperText:m?"Failed to save tags, please select another replay or try again.":null},r.a.createElement(f.a,{fill:!0,loading:n,intent:g.a.SUCCESS,disabled:p||null===u||null===d,onClick:s,icon:b.a.TAG},"Save tags")))}t(413);var q=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).state={navbarTabId:"Home"},n}return Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.l,{className:"CerebrateNavbar-navbar"},r.a.createElement(f.l.Group,null,r.a.createElement(f.l.Heading,{className:"CerebrateNavbar-navbar-heading"},r.a.createElement("div",null,r.a.createElement("div",{className:"CerebrateNavbar-logo"},"Cerebrate"),r.a.createElement("em",{className:"CerebrateNavbar-logo-subtitle"},"A StarCraft II Replay Manager")))))}}]),t}(r.a.Component),z=t(44),Y=t(1),H=(t(414),{ROOT:"root",REPLAY_FOLDER:"replay_folder",REPLAY:"replay",TAG:"tag",LOADING:"loading"}),V=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).getRootNode=function(){return n.state.contents[0]},n.generateReplayFolderChildNodes=function(e){return e.map((function(e,a){return{id:a+1,nodeType:H.REPLAY,replay:e,icon:r.a.createElement(f.h,{icon:b.a.DOCUMENT,className:Y.a.TREE_NODE_ICON}),className:"ReplayTagTree-tree-node",label:r.a.createElement("div",{className:"ReplayTagTree-tree-node-label-replay"},r.a.createElement("div",{className:"ReplayTagTree-tree-node-label-replay-id"},e.replayId.substring(0,8)),"\xa0",r.a.createElement("div",{className:"ReplayTagTree-tree-node-label-replay-teams"},e.teams.join(" vs ")),e.notes?r.a.createElement("div",{className:"ReplayTagTree-tree-node-label-replay-notes"},r.a.createElement("em",null,e.notes)):null),secondaryLabel:r.a.createElement("div",{className:"ReplayTagTree-tree-node-secondary-label"},r.a.createElement("em",null,U(e.replayTimestamp)))}}))},n.generateTagChildNodes=function(){var e=Object(i.a)(c.a.mark((function e(a){var t,l,s,o,i,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,l=t.includeTags,s=t.excludeTags,e.next=3,P.findReplays({includeTags:l.concat(a),excludeTags:s});case 3:return o=e.sent,i=o.replays,p=o.tagFrequencyTable,e.abrupt("return",[{id:0,nodeType:H.REPLAY_FOLDER,filterTags:a,icon:r.a.createElement(f.h,{icon:b.a.FOLDER_OPEN,className:Y.a.TREE_NODE_ICON}),label:"Replays",childNodes:n.generateReplayFolderChildNodes(i)}].concat(p.map((function(e,t){return{id:t+1,nodeType:H.TAG,filterTags:a.concat(e.tag),icon:r.a.createElement(f.h,{icon:b.a.TAG,intent:O(e.tag),className:Y.a.TREE_NODE_ICON}),label:r.a.createElement("div",null,r.a.createElement("span",{className:"ReplayTagTree-tree-node-label-"+E(e.tag)+"-tag"},r.a.createElement("span",{className:"ReplayTagTree-tree-node-label-tag-prefix"},E(e.tag),":\xa0"),r.a.createElement("span",{className:"ReplayTagTree-tree-node-label-tag-name"},r.a.createElement("strong",null,S(e.tag))))),secondaryLabel:r.a.createElement("span",{className:"ReplayTagTree-tree-node-secondary-label"},r.a.createElement("em",null,"Replay(s): "+e.frequency," ")),childNodes:[{id:0,nodeType:H.LOADING,label:r.a.createElement("span",null,r.a.createElement("em",null,"Loading...")),disabled:!0}]}}))));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.generateChildNodes=function(){var e=Object(i.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.nodeType,e.next=e.t0===H.ROOT||e.t0===H.TAG?3:6;break;case 3:return e.next=5,n.generateTagChildNodes(a.filterTags);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",a.childNodes);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleNodeCollapse=function(e){e.isExpanded=!1,n.setState(n.state)},n.handleNodeExpand=function(e){e.isExpanded=!0,n.setState(n.state),Object(i.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.generateChildNodes(e);case 2:e.childNodes=a.sent,n.setState(n.state);case 4:case"end":return a.stop()}}),a)})))()},n.state={contents:[{id:0,nodeType:H.ROOT,filterTags:[],icon:r.a.createElement(f.h,{icon:b.a.LIST_COLUMNS,className:Y.a.TREE_NODE_ICON}),label:r.a.createElement("div",{className:"ReplayTagTree-tree-node-label-root"},r.a.createElement("strong",null,"Replay results")),isExpanded:!0,childNodes:[{id:0,nodeType:H.LOADING,label:r.a.createElement("span",null,r.a.createElement("em",null,"Loading...")),disabled:!0}]}]},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(i.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.generateChildNodes(e.getRootNode());case 2:e.getRootNode().childNodes=a.sent,e.setState(e.state);case 4:case"end":return a.stop()}}),a)})))()}},{key:"render",value:function(){return r.a.createElement(f.t,Object.assign({},this.props,{contents:this.state.contents,onNodeExpand:this.handleNodeExpand,onNodeCollapse:this.handleNodeCollapse}))}}]),t}(r.a.Component);t(415);function J(e){var a=e.formGroupLabel,t=e.selectOptions,n=e.selectValue,l=e.sortDescending,s=e.setSortDescending;return r.a.createElement(f.e,{className:"ReplayFilterAndSort-sorting-form-group",contentClassName:"ReplayFilterAndSort-sorting-form-group-content",label:a},r.a.createElement(f.g,{fill:!0,options:t,value:n}),r.a.createElement(f.o,{className:"ReplayFilterAndSort-sorting-descending-switch",checked:l,innerLabel:"Ascending",innerLabelChecked:"Descending",onChange:function(e){return s(e.currentTarget.checked)}}))}function Z(e){var a=e.sortReplaysDescending,t=e.sortTagsDescending;return r.a.createElement(f.b,{className:"ReplayFilterAndSort-container"},r.a.createElement(f.f,{className:"ReplayFilterAndSort-control-group-heading"},"Sorting"),r.a.createElement(f.c,{fill:!0,vertical:!1},r.a.createElement(J,{formGroupLabel:"Sort replays by",selectOptions:[{label:"Replay date",value:"date"}],selectValue:"date",sortDescending:a,setSortDescending:function(){}}),r.a.createElement(J,{formGroupLabel:"Sort tags by",selectOptions:[{label:"Tag frequency",value:"frequency"}],selectValue:"frequency",sortDescending:t,setSortDescending:function(){}})))}function W(e){var a=e.className,t=e.selectedTags,n=e.onTagsSelected,l=e.title,s=Object(y.a)(e,["className","selectedTags","onTagsSelected","title"]);return r.a.createElement(f.b,{className:"ReplayFilterAndSort-container ".concat(a)},r.a.createElement(f.f,{className:"ReplayFilterAndSort-control-group-heading"},l),r.a.createElement(f.c,{fill:!0,vertical:!1},r.a.createElement(f.e,{label:"Player tags",className:"ReplayFilterAndSort-select-tags-form-group"},r.a.createElement(N,Object.assign({selectedTags:t,onTagsSelected:n,tagPrefix:"player:",tagIntent:g.a.SUCCESS,fill:!0},s))),r.a.createElement(f.e,{label:"Opponent tags",className:"ReplayFilterAndSort-select-tags-form-group"},r.a.createElement(N,Object.assign({selectedTags:t,onTagsSelected:n,tagPrefix:"opponent:",tagIntent:g.a.DANGER,fill:!0},s))),r.a.createElement(f.e,{label:"Game tags",className:"ReplayFilterAndSort-select-tags-form-group"},r.a.createElement(N,Object.assign({selectedTags:t,onTagsSelected:n,tagPrefix:"game:",tagIntent:g.a.PRIMARY,fill:!0},s)))))}var K=t(192),Q=(t(416),t(434)),$=t(118);function X(e){var a=e.filterReplaysByDate,t=e.setFilterReplaysByDate,l=Object(y.a)(e,["filterReplaysByDate","setFilterReplaysByDate"]),s=Object(n.useState)(0),o=Object(K.a)(s,2),c=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement(f.b,{className:"ReplayFilterAndSort-container"},r.a.createElement(f.f,{className:"ReplayFilterAndSort-control-group-heading"},"Replay date"),r.a.createElement(f.e,{label:"Filter by replay date",className:"ReplayDateFilter-replay-date-form-group"},r.a.createElement(f.o,{checked:a,innerLabel:"Show all replays",innerLabelChecked:"Filter replays by date",onChange:function(e){return t(e.currentTarget.checked)}})),a?r.a.createElement(f.e,{label:"Choose dates",className:"ReplayDateFilter-replay-date-form-group"},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Q.a,Object.assign({className:"ReplayDateFilter-replay-date-range-picker",maxDate:new Date,singleMonthOnly:!0,timePickerProps:{autoFocus:!0,precision:$.b.MINUTE,defaultValue:new Date},allowSingleDayRange:!0,defaultValue:[new Date((new Date).setHours(0,0,0,0)),new Date],selectedShortcutIndex:c,onShortcutChange:function(e,a){return i(a)}},l)))):null))}function ee(e){var a=e.includeTags,t=e.setIncludeTags,n=e.excludeTags,l=e.setExcludeTags,s=Object(y.a)(e,["includeTags","setIncludeTags","excludeTags","setExcludeTags"]);return r.a.createElement("div",null,r.a.createElement(X,s),r.a.createElement(Z,s),r.a.createElement(W,Object.assign({className:"ReplayFilterAndSort-container-include-tags",title:"Include tags",selectedTags:a,onTagsSelected:t},s)),r.a.createElement(W,Object.assign({className:"ReplayFilterAndSort-container-exclude-tags",title:"Exclude tags",selectedTags:n,onTagsSelected:l},s)))}t(425);var ae=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).state={filterReplaysByDate:!1,setFilterReplaysByDate:function(e){n.setState({filterReplaysByDate:e})},sortReplaysDescending:!0,setSortReplaysDescending:function(e){n.setState({sortReplaysDescending:e})},sortTagsDescending:!0,setSortTagsDescending:function(e){n.setState({sortReplaysDescending:e})},includeTags:[],setIncludeTags:function(e){n.setState({includeTags:e})},excludeTags:[],setExcludeTags:function(e){n.setState({excludeTags:e})},searchResults:null,setSearchResults:function(e){n.setState({searchResults:e})}},n}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"FindReplays-filter-sort-container"},r.a.createElement(ee,Object.assign({},this.props,this.state)),r.a.createElement(f.a,{fill:!0,intent:g.a.PRIMARY,onClick:function(){e.state.setSearchResults(r.a.createElement(V,Object.assign({},e.props,e.state)))},icon:b.a.SEARCH},"Find replays")),this.state.searchResults)}}]),t}(r.a.Component),te=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(p.a)(this,t),(n=a.call(this,e)).state={replayId:"",replayFileName:"",replayTimestamp:null,replayData:"",teams:[],playerTeam:null,opponentTeam:null,replaySelectedTags:[],notes:"",formDisabled:!0,failedToLoadReplay:!1,failedToTagReplay:!1,submittingReplay:!1,navbarTabId:"form",suggestTags:[],setReplayId:function(e){return n.setState({replayId:e})},setReplayFileName:function(e){return n.setState({replayFileName:e})},setReplayData:function(e){return n.setState({replayData:e})},setPlayerTeam:function(e){return n.setState({playerTeam:e})},setOpponentTeam:function(e){return n.setState({opponentTeam:e})},setReplaySelectedTags:function(e){return n.setState({replaySelectedTags:e})},setNotes:function(e){return n.setState({notes:e})},resetAndDisableForm:function(){return n.setState({failedToLoadReplay:!1,replayId:"",replayTimestamp:null,teams:[],playerTeam:null,opponentTeam:null,replaySelectedTags:[],notes:"",formDisabled:!0})},disableForm:function(){return n.setState({formDisabled:!0})},updateReplayInfo:function(){n.setState({formDisabled:!0,submittingReplay:!0}),P.updateReplayInfo({replayId:n.state.replayId,replayData:n.state.replayData,selectedTags:n.state.replaySelectedTags,playerTeam:n.state.playerTeam,opponentTeam:n.state.opponentTeam,notes:n.state.notes})}},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.onReplayLoadedListeners.push(this),P.onReplayUpdatedListeners.push(this),Object(i.a)(c.a.mark((function a(){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P.findReplays({});case 2:t=a.sent,n=t.tagFrequencyTable,e.setState({suggestTags:n.map((function(e){return e.tag}))});case 5:case"end":return a.stop()}}),a)})))()}},{key:"componentWillUnmount",value:function(){P.onReplayLoadedListeners.splice(P.onReplayLoadedListeners.indexOf(this),1),P.onReplayUpdatedListeners.splice(P.onReplayUpdatedListeners.indexOf(this),1)}},{key:"onReplayLoaded",value:function(e){var a=e.replayId,t=e.replayFileName,n=e.replayData,r=e.replayTimestamp,l=e.teams,s=e.playerTeam,o=e.opponentTeam,c=e.selectedTags,i=e.notes;e.force||this.state.replayId===a?this.setState({replayId:a,replayData:n||this.state.replayData,formDisabled:!1,submittingReplay:!1,failedToLoadReplay:!1,replayTimestamp:r,teams:l,playerTeam:s,opponentTeam:o,replayFileName:t||this.state.replayFileName,replaySelectedTags:c,notes:i}):this.setState({formDisabled:!0,submittingReplay:!1,failedToLoadReplay:!0,replayId:"",teams:[],playerTeam:null,opponentTeam:null,replayTimestamp:null,replaySelectedTags:[],notes:""})}},{key:"onReplayUpdated",value:function(e){var a=e.success,t=e.replayId;this.setState({submittingReplay:!1}),this.state.replayId===t&&this.setState({failedToTagReplay:!a,formDisabled:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(f.b,{interactive:!0,elevation:z.a.TWO,className:"App-card"},r.a.createElement(q,null),r.a.createElement("div",{className:"App-break"},r.a.createElement("br",null)),r.a.createElement(f.q,{animate:!0,id:"navbar",large:!0,selectedTabId:this.state.navbarTabId,onChange:function(a){return e.setState({navbarTabId:a})}},r.a.createElement(f.p,{id:"form",title:"Replay Details",panel:r.a.createElement(B,this.state)}),r.a.createElement(f.p,{id:"search",title:"Find Replays",panel:r.a.createElement(ae,this.state)}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[280,1,2]]]);
//# sourceMappingURL=main.b6f498f4.chunk.js.map